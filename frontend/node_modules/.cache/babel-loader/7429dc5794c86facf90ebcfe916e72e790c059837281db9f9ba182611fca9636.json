{"ast":null,"code":"var _jsxFileName = \"/Users/mukukahnkambagmail.com/Desktop/latte-ai-portfolio/frontend/src/App.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport QuestionInput from \"./components/QuestionInput\";\nimport { askAI } from \"./api/askAI\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [currentResponse, setCurrentResponse] = useState(null);\n  const [view, setView] = useState('shop');\n  const [isLoading, setIsLoading] = useState(false);\n  const [lastQuestion, setLastQuestion] = useState(\"\");\n  const [lastResponse, setLastResponse] = useState(null);\n  const [showIntroBubble1, setShowIntroBubble1] = useState(false);\n  const [showIntroBubble2, setShowIntroBubble2] = useState(false);\n  const [showIntroBubble3, setShowIntroBubble3] = useState(false);\n  const [isAppReady, setIsAppReady] = useState(false);\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768); // Changed back to 768 for structural shifts\n  const [videosLoaded, setVideosLoaded] = useState(new Set());\n  const videoRef = useRef(null);\n  useEffect(() => {\n    const handleResize = () => setIsMobile(window.innerWidth < 768);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  useEffect(() => {\n    if (videoRef.current) {\n      // Force play state for mobile compatibility\n      videoRef.current.muted = true;\n      videoRef.current.playsInline = true;\n      const playPromise = videoRef.current.play();\n      if (playPromise !== undefined) {\n        playPromise.catch(() => {\n          // Autoplay was prevented\n        });\n      }\n    }\n  }, [view]);\n  useEffect(() => {\n    if (view === 'about') {\n      setShowIntroBubble1(false);\n      setShowIntroBubble2(false);\n      setShowIntroBubble3(false);\n      const timer1 = setTimeout(() => setShowIntroBubble1(true), 500);\n      const timer2 = setTimeout(() => setShowIntroBubble2(true), 2500); // 2s after first\n      const timer3 = setTimeout(() => setShowIntroBubble3(true), 4500); // 2s after second\n\n      return () => {\n        clearTimeout(timer1);\n        clearTimeout(timer2);\n        clearTimeout(timer3);\n      };\n    }\n  }, [view]);\n\n  // Video loading tracker\n  const handleVideoLoad = videoSrc => {\n    setVideosLoaded(prev => {\n      const next = new Set(prev);\n      next.add(videoSrc);\n      return next;\n    });\n  };\n\n  // Initial App Loader - Depends on critical video load\n  useEffect(() => {\n    // If shop video is loaded or if it's taking too long (fallback)\n    const timeout = setTimeout(() => setIsAppReady(true), 5000);\n    if (videosLoaded.has('/barista.mp4')) {\n      setIsAppReady(true);\n      clearTimeout(timeout);\n    }\n    return () => clearTimeout(timeout);\n  }, [videosLoaded]);\n  const CUP_CLOSERS = [\"That pretty much sums me up ‚òï‚ú®\", \"Just a girl who loves clean code & good coffee üíï\", \"Backend girlie with a soft spot for React ‚òï\", \"And yeah‚Ä¶ I really love what I do ‚ú®\", \"I am, in fact, just a girl üë©üèΩ‚Äçüíª‚òï\", \"Hope that's exactly what you ordered! üíï\", \"Flavorful code and perfect lattes. ‚ú®\"];\n  const getRandomCupMessage = () => CUP_CLOSERS[Math.floor(Math.random() * CUP_CLOSERS.length)];\n  const menuItems = [{\n    id: \"about\",\n    name: \"Origin Roast (Americano)\",\n    sub: \"My story & background\"\n  }, {\n    id: \"skills\",\n    name: \"Java Script Injection (Espresso)\",\n    sub: \"Technical expertise & stacks\"\n  }, {\n    id: \"projects\",\n    name: \"Full-Stack Filter (Cold Brew)\",\n    sub: \"Portfolio & featured projects\"\n  }, {\n    id: \"experience\",\n    name: \"Legacy Blend (Macchiato)\",\n    sub: \"Professional work history\"\n  }, {\n    id: \"education\",\n    name: \"Academic Steam (Flat White)\",\n    sub: \"Education & certifications\"\n  }, {\n    id: \"contact\",\n    name: \"Matcha Networking\",\n    sub: \"Get in touch\"\n  }];\n\n  // MENU ITEM CLICK\n  const handleMenuSelect = async menuItem => {\n    setIsLoading(true);\n    try {\n      const response = await askAI(\"menu\", menuItem);\n\n      // Transition to coffee view\n      setCurrentResponse(response);\n      setView('coffee');\n    } catch (error) {\n      console.error(\"Error fetching AI response:\", error);\n      setCurrentResponse(\"Oops! The barista is on break. Try again later! ‚òï\");\n      setView('coffee');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // QUESTION SUBMIT\n  const handleQuestionSubmit = async question => {\n    setIsLoading(true);\n    setLastQuestion(question);\n    setLastResponse(null); // Reset response for new animation\n    setView('chat'); // Switch to chat view immediately\n\n    try {\n      const response = await askAI(\"question\", question);\n\n      // Delay response by 500ms\n      setTimeout(() => {\n        setLastResponse(response);\n      }, 500);\n    } catch (error) {\n      console.error(\"Error fetching AI response:\", error);\n      setTimeout(() => {\n        setLastResponse(\"Oops! The barista is on break. Try again later! ‚òï\");\n      }, 500);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleBackToShop = () => {\n    setView('shop');\n    setCurrentResponse(null);\n    setLastQuestion(\"\");\n    setLastResponse(null);\n    setShowIntroBubble1(false);\n    setShowIntroBubble2(false);\n    setShowIntroBubble3(false);\n  };\n\n  // LOADER VIEW\n  if (!isAppReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen w-full flex flex-col items-center justify-center bg-[#fdfaf7] z-[100]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 mb-6 relative animate-pulse\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-[#4a322d] rounded-full opacity-10 animate-ping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-6xl\",\n            children: \"\\u2615\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-[#4a322d] animate-pulse\",\n          children: \"Brewing your experience...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 w-48 h-1 bg-[#4a322d]/10 rounded-full overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full bg-[#4a322d] animate-[loading_3s_ease-i-out_infinite]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          @keyframes loading {\n            0% { width: 0%; }\n            50% { width: 70%; }\n            100% { width: 100%; }\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);\n  }\n\n  // SHOP VIEW\n  if (view === 'shop') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row h-screen w-full overflow-hidden bg-[#fdfaf7]\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"w-full md:w-[30%] lg:w-[25%] md:min-w-[380px] lg:max-w-[500px] h-auto md:h-full bg-[#4a322d] p-4 md:px-8 md:py-10 flex flex-col shadow-2xl z-20 overflow-y-auto md:overflow-hidden scrollbar-hide max-h-[45vh] md:max-h-none border-b-2 md:border-b-0 md:border-r-2 border-white/5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 md:mb-5 pb-2 md:pb-3 border-b border-white/10 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-[#fffcf0] text-xl md:text-2xl leading-tight font-bold tracking-tight whitespace-nowrap\",\n            children: \"Bean There, Built That\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col gap-3 md:gap-5 md:py-6\",\n          children: menuItems.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"group w-full bg-[#fffcf0] p-3 md:p-4 rounded-xl text-left transition-all md:hover:translate-x-0 hover:translate-x-2 shadow-lg border-l-4 border-[#4a322d] disabled:opacity-50\",\n            onClick: () => handleMenuSelect(item.id),\n            disabled: isLoading,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"block font-bold text-[#2b1d1a] text-xl md:text-2xl mb-0.5\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"block font-medium text-[#5d4037] text-base md:text-lg italic opacity-95 leading-relaxed menu-item-sub\",\n              children: item.sub\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 md:mt-8 pt-4 md:pt-6 text-[#fffcf0]/90 text-base md:text-lg font-bold italic text-center tracking-wide\",\n          children: \"Freshly brewed responses \\u2615\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"relative flex-1 h-full shadow-inner overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          className: \"absolute inset-0 w-full h-full object-cover\",\n          style: {\n            objectPosition: isMobile ? '30% center' : 'center right'\n          },\n          autoPlay: true,\n          loop: true,\n          muted: true,\n          playsInline: true,\n          preload: \"auto\",\n          controls: false,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: \"/barista.mp4\",\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)\n        }, \"barista-video\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          className: \"hidden\",\n          onCanPlayThrough: () => handleVideoLoad('/barista.mp4'),\n          muted: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: \"/barista.mp4\",\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('about'),\n          className: \"absolute top-4 md:top-12 right-4 md:right-12 left-1/2 -translate-x-1/2 md:left-auto md:translate-x-0 z-20 w-max max-w-[90vw] hover:scale-105 active:scale-95 transition-all group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"backdrop-blur-xl bg-black/40 px-5 md:px-16 py-4 md:py-10 rounded-[2rem] md:rounded-[3rem] border border-white/20 shadow-2xl group-hover:border-white/40 flex flex-col items-center justify-center min-h-[60px] md:min-h-[120px] relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-white text-2xl md:text-5xl font-bold tracking-tight whitespace-nowrap text-center\",\n              style: {\n                textShadow: '0 4px 12px rgba(0,0,0,0.3)'\n              },\n              children: \"Latte Me Show You \\u2615\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute bottom-2 md:bottom-4 text-xs md:text-lg font-semibold opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0 text-amber-50 leading-relaxed pointer-events-none\",\n              children: \"Click to meet the barista\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-6 md:bottom-8 left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4 z-40\",\n          children: /*#__PURE__*/_jsxDEV(QuestionInput, {\n            onSubmit: handleQuestionSubmit,\n            isLoading: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this);\n  }\n\n  /**\n   * Parses text to strip Markdown artifacts (**) and convert URLs into clickable links.\n   */\n  const renderContentWithLinks = text => {\n    if (!text) return null;\n\n    // 1. Strip Markdown bolding (stars)\n    const cleanText = text.replace(/\\*\\*/g, \"\");\n\n    // 2. Regex for URL detection\n    const urlPattern = /(https?:\\/\\/[^\\s]+)/g;\n    const parts = cleanText.split(urlPattern);\n    return parts.map((part, i) => {\n      if (part.match(urlPattern)) {\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          href: part,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"text-blue-600 underline hover:text-blue-800 transition-colors break-all\",\n          children: part\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this);\n      }\n      return part;\n    });\n  };\n\n  /**\n   * Character-Aware Receipt Summary ‚Äî Snaps to the nearest full stop or punctuation\n   */\n  const summarizeForReceipt = (text, maxChars = 600) => {\n    if (!text) return \"\";\n\n    // Strip stars before summarizing to avoid cutting in the middle of bolding\n    const clean = text.replace(/\\*\\*/g, \"\");\n    if (clean.length <= maxChars) return clean;\n    const truncated = clean.slice(0, maxChars);\n    const lastPunctuation = Math.max(truncated.lastIndexOf(\".\"), truncated.lastIndexOf(\"!\"), truncated.lastIndexOf(\"?\"));\n    if (lastPunctuation === -1) {\n      return truncated.trim() + \"...\";\n    }\n    return truncated.slice(0, lastPunctuation + 1).trim();\n  };\n\n  // CHAT VIEW\n  if (view === 'chat') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen w-full relative flex flex-col items-center justify-center overflow-hidden bg-[#2b1d1a]\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"absolute inset-0 w-full h-full object-cover\",\n        autoPlay: true,\n        loop: true,\n        muted: true,\n        playsInline: true,\n        preload: \"auto\",\n        controls: false,\n        onTimeUpdate: e => {\n          const video = e.currentTarget;\n          if (video.currentTime >= 4) {\n            video.currentTime = 0;\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"source\", {\n          src: \"/barista-chat.mp4\",\n          type: \"video/mp4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)\n      }, \"chat-video\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-20 w-full max-w-4xl px-4 md:px-10 flex flex-col h-full py-20 pointer-events-none\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col gap-6 justify-end pb-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bubble-user ml-auto pointer-events-auto shadow-2xl\",\n            children: lastQuestion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), lastResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bubble-barista mr-auto pointer-events-auto shadow-2xl\",\n            children: renderContentWithLinks(lastResponse)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-auto pointer-events-auto pb-10\",\n          children: /*#__PURE__*/_jsxDEV(QuestionInput, {\n            onSubmit: handleQuestionSubmit,\n            isLoading: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBackToShop,\n        className: \"fixed top-6 right-6 z-50 bg-[#4a322d] text-[#fffcf0] px-8 py-3 rounded-full font-bold shadow-2xl hover:scale-105 active:scale-95 transition-all text-xl border-2 border-white/20\",\n        children: \"\\u2190 Order something else\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ABOUT ME VIEW\n  if (view === 'about') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen w-full relative flex flex-col items-center justify-center overflow-hidden bg-[#2b1d1a]\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"absolute inset-0 w-full h-full object-cover\",\n        autoPlay: true,\n        loop: true,\n        muted: true,\n        playsInline: true,\n        preload: \"auto\",\n        controls: false,\n        onTimeUpdate: e => {\n          const video = e.currentTarget;\n          if (video.currentTime >= 4) {\n            video.currentTime = 0;\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"source\", {\n          src: \"/about-me.mp4\",\n          type: \"video/mp4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)\n      }, \"about-video\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-20 w-full max-w-4xl px-4 md:px-10 flex flex-col h-full py-20 pointer-events-none\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex flex-col gap-6 justify-end pb-12\",\n          children: [showIntroBubble1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bubble-barista mr-auto pointer-events-auto shadow-2xl max-w-[85%]\",\n            children: \"Latte me introduce my brew. I am Mukuka Nkamba and this is my portfolio cafe! \\u2615\\u2728\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this), showIntroBubble2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bubble-barista mr-auto pointer-events-auto shadow-2xl max-w-[85%]\",\n            children: \"Feel free to reach out for anything that benefits me!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), showIntroBubble3 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bubble-barista mr-auto pointer-events-auto shadow-2xl max-w-[85%]\",\n            children: \"You can pick something from the menu or ask me anything by clicking the \\\"Order something else\\\" button. What can I brew for you?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBackToShop,\n        className: \"fixed top-6 right-6 z-50 bg-[#4a322d] text-[#fffcf0] px-8 py-3 rounded-full font-bold shadow-2xl hover:scale-105 active:scale-95 transition-all text-xl border-2 border-white/20\",\n        children: \"\\u2190 Order something else\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }, this);\n  }\n\n  // COFFEE/RECEIPT VIEW\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-full relative flex flex-col md:items-center md:justify-center overflow-y-auto overflow-x-hidden md:overflow-hidden scrollbar-hide bg-[#2b1d1a]\",\n    children: [/*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      className: \"absolute inset-0 w-full h-full object-cover opacity-60 md:opacity-100\",\n      autoPlay: true,\n      loop: true,\n      muted: true,\n      playsInline: true,\n      preload: \"auto\",\n      controls: false,\n      children: /*#__PURE__*/_jsxDEV(\"source\", {\n        src: \"/coffee-cup.mp4\",\n        type: \"video/mp4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)\n    }, \"coffee-video\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative md:absolute md:left-16 md:top-[10%] z-30 w-[90%] max-w-[480px] mt-24 md:mt-0 mx-auto md:mx-0 p-8 md:p-12 receipt text-[#3e2723] scale-100 md:scale-115 shadow-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b border-dashed border-[#3e2723]/30 pb-4 md:pb-6 mb-4 md:mb-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold tracking-widest text-base md:text-lg uppercase text-[#3e2723]\",\n          children: \"Coffee Receipt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs md:text-sm opacity-60 mt-1\",\n          children: [new Date().toLocaleTimeString(), \" - Order #88\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl md:text-2xl leading-relaxed italic font-medium overflow-hidden text-[#3e2723]\",\n        style: {\n          maxHeight: \"550px\",\n          display: \"-webkit-box\",\n          WebkitLineClamp: 16,\n          WebkitBoxOrient: \"vertical\"\n        },\n        children: renderContentWithLinks(summarizeForReceipt(currentResponse))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 md:mt-12 pt-6 border-t border-dashed border-[#3e2723]/30 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm md:text-base opacity-50 uppercase tracking-tighter\",\n          children: \"Thank You for Visiting! \\u2615\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleBackToShop,\n      className: \"fixed md:absolute top-6 md:top-10 left-6 md:left-auto md:right-10 z-50 bg-[#4a322d] text-[#fffcf0]  px-8 md:px-14 py-4 md:py-6 rounded-full text-xl md:text-2xl font-bold shadow-2xl hover:scale-105 transition-all active:scale-95 border-2 border-white/20\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u2190 Order something else\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 442,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"lVfcjBONaOfzYL/J0cJjD6kBTpY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","useRef","QuestionInput","askAI","jsxDEV","_jsxDEV","App","_s","currentResponse","setCurrentResponse","view","setView","isLoading","setIsLoading","lastQuestion","setLastQuestion","lastResponse","setLastResponse","showIntroBubble1","setShowIntroBubble1","showIntroBubble2","setShowIntroBubble2","showIntroBubble3","setShowIntroBubble3","isAppReady","setIsAppReady","isMobile","setIsMobile","window","innerWidth","videosLoaded","setVideosLoaded","Set","videoRef","handleResize","addEventListener","removeEventListener","current","muted","playsInline","playPromise","play","undefined","catch","timer1","setTimeout","timer2","timer3","clearTimeout","handleVideoLoad","videoSrc","prev","next","add","timeout","has","CUP_CLOSERS","getRandomCupMessage","Math","floor","random","length","menuItems","id","name","sub","handleMenuSelect","menuItem","response","error","console","handleQuestionSubmit","question","handleBackToShop","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","item","onClick","disabled","ref","style","objectPosition","autoPlay","loop","preload","controls","src","type","onCanPlayThrough","textShadow","onSubmit","renderContentWithLinks","text","cleanText","replace","urlPattern","parts","split","part","i","match","href","target","rel","summarizeForReceipt","maxChars","clean","truncated","slice","lastPunctuation","max","lastIndexOf","trim","onTimeUpdate","e","video","currentTarget","currentTime","Date","toLocaleTimeString","maxHeight","display","WebkitLineClamp","WebkitBoxOrient","_c","$RefreshReg$"],"sources":["/Users/mukukahnkambagmail.com/Desktop/latte-ai-portfolio/frontend/src/App.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport QuestionInput from \"./components/QuestionInput\";\nimport { askAI } from \"./api/askAI\";\nimport \"./App.css\";\n\ntype View = 'shop' | 'coffee' | 'chat' | 'about';\n\nfunction App() {\n  const [currentResponse, setCurrentResponse] = useState<string | null>(null);\n  const [view, setView] = useState<View>('shop');\n  const [isLoading, setIsLoading] = useState(false);\n  const [lastQuestion, setLastQuestion] = useState<string>(\"\");\n  const [lastResponse, setLastResponse] = useState<string | null>(null);\n  const [showIntroBubble1, setShowIntroBubble1] = useState(false);\n  const [showIntroBubble2, setShowIntroBubble2] = useState(false);\n  const [showIntroBubble3, setShowIntroBubble3] = useState(false);\n  const [isAppReady, setIsAppReady] = useState(false);\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768); // Changed back to 768 for structural shifts\n  const [videosLoaded, setVideosLoaded] = useState<Set<string>>(new Set());\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  useEffect(() => {\n    const handleResize = () => setIsMobile(window.innerWidth < 768);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    if (videoRef.current) {\n      // Force play state for mobile compatibility\n      videoRef.current.muted = true;\n      videoRef.current.playsInline = true;\n      const playPromise = videoRef.current.play();\n      if (playPromise !== undefined) {\n        playPromise.catch(() => {\n          // Autoplay was prevented\n        });\n      }\n    }\n  }, [view]);\n\n  useEffect(() => {\n    if (view === 'about') {\n      setShowIntroBubble1(false);\n      setShowIntroBubble2(false);\n      setShowIntroBubble3(false);\n\n      const timer1 = setTimeout(() => setShowIntroBubble1(true), 500);\n      const timer2 = setTimeout(() => setShowIntroBubble2(true), 2500); // 2s after first\n      const timer3 = setTimeout(() => setShowIntroBubble3(true), 4500); // 2s after second\n\n      return () => {\n        clearTimeout(timer1);\n        clearTimeout(timer2);\n        clearTimeout(timer3);\n      };\n    }\n  }, [view]);\n\n  // Video loading tracker\n  const handleVideoLoad = (videoSrc: string) => {\n    setVideosLoaded(prev => {\n      const next = new Set(prev);\n      next.add(videoSrc);\n      return next;\n    });\n  };\n\n  // Initial App Loader - Depends on critical video load\n  useEffect(() => {\n    // If shop video is loaded or if it's taking too long (fallback)\n    const timeout = setTimeout(() => setIsAppReady(true), 5000);\n\n    if (videosLoaded.has('/barista.mp4')) {\n      setIsAppReady(true);\n      clearTimeout(timeout);\n    }\n\n    return () => clearTimeout(timeout);\n  }, [videosLoaded]);\n\n  const CUP_CLOSERS = [\n    \"That pretty much sums me up ‚òï‚ú®\",\n    \"Just a girl who loves clean code & good coffee üíï\",\n    \"Backend girlie with a soft spot for React ‚òï\",\n    \"And yeah‚Ä¶ I really love what I do ‚ú®\",\n    \"I am, in fact, just a girl üë©üèΩ‚Äçüíª‚òï\",\n    \"Hope that's exactly what you ordered! üíï\",\n    \"Flavorful code and perfect lattes. ‚ú®\"\n  ];\n\n  const getRandomCupMessage = () => CUP_CLOSERS[Math.floor(Math.random() * CUP_CLOSERS.length)];\n\n  const menuItems = [\n    { id: \"about\", name: \"Origin Roast (Americano)\", sub: \"My story & background\" },\n    { id: \"skills\", name: \"Java Script Injection (Espresso)\", sub: \"Technical expertise & stacks\" },\n    { id: \"projects\", name: \"Full-Stack Filter (Cold Brew)\", sub: \"Portfolio & featured projects\" },\n    { id: \"experience\", name: \"Legacy Blend (Macchiato)\", sub: \"Professional work history\" },\n    { id: \"education\", name: \"Academic Steam (Flat White)\", sub: \"Education & certifications\" },\n    { id: \"contact\", name: \"Matcha Networking\", sub: \"Get in touch\" },\n  ];\n\n  // MENU ITEM CLICK\n  const handleMenuSelect = async (menuItem: string) => {\n    setIsLoading(true);\n\n    try {\n      const response = await askAI(\"menu\", menuItem);\n\n      // Transition to coffee view\n      setCurrentResponse(response);\n      setView('coffee');\n    } catch (error) {\n      console.error(\"Error fetching AI response:\", error);\n      setCurrentResponse(\"Oops! The barista is on break. Try again later! ‚òï\");\n      setView('coffee');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // QUESTION SUBMIT\n  const handleQuestionSubmit = async (question: string) => {\n    setIsLoading(true);\n    setLastQuestion(question);\n    setLastResponse(null); // Reset response for new animation\n    setView('chat'); // Switch to chat view immediately\n\n    try {\n      const response = await askAI(\"question\", question);\n\n      // Delay response by 500ms\n      setTimeout(() => {\n        setLastResponse(response);\n      }, 500);\n    } catch (error) {\n      console.error(\"Error fetching AI response:\", error);\n      setTimeout(() => {\n        setLastResponse(\"Oops! The barista is on break. Try again later! ‚òï\");\n      }, 500);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleBackToShop = () => {\n    setView('shop');\n    setCurrentResponse(null);\n    setLastQuestion(\"\");\n    setLastResponse(null);\n    setShowIntroBubble1(false);\n    setShowIntroBubble2(false);\n    setShowIntroBubble3(false);\n  };\n\n  // LOADER VIEW\n  if (!isAppReady) {\n    return (\n      <div className=\"h-screen w-full flex flex-col items-center justify-center bg-[#fdfaf7] z-[100]\">\n        <div className=\"relative flex flex-col items-center\">\n          {/* Pulsing Coffee Cup Placeholder/Loader */}\n          <div className=\"w-24 h-24 mb-6 relative animate-pulse\">\n            <div className=\"absolute inset-0 bg-[#4a322d] rounded-full opacity-10 animate-ping\"></div>\n            <span className=\"text-6xl\">‚òï</span>\n          </div>\n          <h2 className=\"text-2xl font-bold text-[#4a322d] animate-pulse\">Brewing your experience...</h2>\n          <div className=\"mt-4 w-48 h-1 bg-[#4a322d]/10 rounded-full overflow-hidden\">\n            <div className=\"h-full bg-[#4a322d] animate-[loading_3s_ease-i-out_infinite]\"></div>\n          </div>\n        </div>\n        <style>{`\n          @keyframes loading {\n            0% { width: 0%; }\n            50% { width: 70%; }\n            100% { width: 100%; }\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  // SHOP VIEW\n  if (view === 'shop') {\n    return (\n      <div className=\"flex flex-col md:flex-row h-screen w-full overflow-hidden bg-[#fdfaf7]\">\n        {/* LEFT SIDEBAR: FULL HEIGHT MENU (Stacks at Top on Mobile) */}\n        {/* LEFT SIDEBAR: FULL HEIGHT MENU (Stacks at Top on Mobile) */}\n        <aside className=\"w-full md:w-[30%] lg:w-[25%] md:min-w-[380px] lg:max-w-[500px] h-auto md:h-full bg-[#4a322d] p-4 md:px-8 md:py-10 flex flex-col shadow-2xl z-20 overflow-y-auto md:overflow-hidden scrollbar-hide max-h-[45vh] md:max-h-none border-b-2 md:border-b-0 md:border-r-2 border-white/5\">\n          {/* ORGANIZED HEADING */}\n          <div className=\"mb-4 md:mb-5 pb-2 md:pb-3 border-b border-white/10 text-center\">\n            <h2 className=\"text-[#fffcf0] text-xl md:text-2xl leading-tight font-bold tracking-tight whitespace-nowrap\">\n              Bean There, Built That\n            </h2>\n          </div>\n\n          {/* ORGANIZED MENU ITEMS - Gap instead of justify-around for better scaling */}\n          <div className=\"flex-1 flex flex-col gap-3 md:gap-5 md:py-6\">\n            {menuItems.map((item) => (\n              <button\n                key={item.id}\n                className=\"group w-full bg-[#fffcf0] p-3 md:p-4 rounded-xl text-left transition-all md:hover:translate-x-0 hover:translate-x-2 shadow-lg border-l-4 border-[#4a322d] disabled:opacity-50\"\n                onClick={() => handleMenuSelect(item.id)}\n                disabled={isLoading}\n              >\n                <span className=\"block font-bold text-[#2b1d1a] text-xl md:text-2xl mb-0.5\">\n                  {item.name}\n                </span>\n                <span className=\"block font-medium text-[#5d4037] text-base md:text-lg italic opacity-95 leading-relaxed menu-item-sub\">\n                  {item.sub}\n                </span>\n              </button>\n            ))}\n          </div>\n\n          <div className=\"mt-6 md:mt-8 pt-4 md:pt-6 text-[#fffcf0]/90 text-base md:text-lg font-bold italic text-center tracking-wide\">\n            Freshly brewed responses ‚òï\n          </div>\n        </aside>\n\n        {/* MAIN AREA: BARISTA VIDEO (Agent) */}\n        <main className=\"relative flex-1 h-full shadow-inner overflow-hidden\">\n          <video\n            ref={videoRef}\n            key=\"barista-video\"\n            className=\"absolute inset-0 w-full h-full object-cover\"\n            style={{ objectPosition: isMobile ? '30% center' : 'center right' }}\n            autoPlay\n            loop\n            muted\n            playsInline\n            preload=\"auto\"\n            controls={false}\n          >\n            <source src=\"/barista.mp4\" type=\"video/mp4\" />\n          </video>\n          {/* Transparent trigger to track load */}\n          <video\n            className=\"hidden\"\n            onCanPlayThrough={() => handleVideoLoad('/barista.mp4')}\n            muted\n          >\n            <source src=\"/barista.mp4\" type=\"video/mp4\" />\n          </video>\n\n          {/* THE CLASSY MODERN HEADER (Now a Button) */}\n          <button\n            onClick={() => setView('about')}\n            className=\"absolute top-4 md:top-12 right-4 md:right-12 left-1/2 -translate-x-1/2 md:left-auto md:translate-x-0 z-20 w-max max-w-[90vw] hover:scale-105 active:scale-95 transition-all group\"\n          >\n            <div className=\"backdrop-blur-xl bg-black/40 px-5 md:px-16 py-4 md:py-10 rounded-[2rem] md:rounded-[3rem] border border-white/20 shadow-2xl group-hover:border-white/40 flex flex-col items-center justify-center min-h-[60px] md:min-h-[120px] relative\">\n              <h1 className=\"text-white text-2xl md:text-5xl font-bold tracking-tight whitespace-nowrap text-center\" style={{\n                textShadow: '0 4px 12px rgba(0,0,0,0.3)'\n              }}>\n                Latte Me Show You ‚òï\n              </h1>\n              <span className=\"absolute bottom-2 md:bottom-4 text-xs md:text-lg font-semibold opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0 text-amber-50 leading-relaxed pointer-events-none\">\n                Click to meet the barista\n              </span>\n            </div>\n          </button>\n\n          <div className=\"absolute bottom-6 md:bottom-8 left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4 z-40\">\n            <QuestionInput onSubmit={handleQuestionSubmit} isLoading={isLoading} />\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  /**\n   * Parses text to strip Markdown artifacts (**) and convert URLs into clickable links.\n   */\n  const renderContentWithLinks = (text: string | null) => {\n    if (!text) return null;\n\n    // 1. Strip Markdown bolding (stars)\n    const cleanText = text.replace(/\\*\\*/g, \"\");\n\n    // 2. Regex for URL detection\n    const urlPattern = /(https?:\\/\\/[^\\s]+)/g;\n    const parts = cleanText.split(urlPattern);\n\n    return parts.map((part, i) => {\n      if (part.match(urlPattern)) {\n        return (\n          <a\n            key={i}\n            href={part}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-blue-600 underline hover:text-blue-800 transition-colors break-all\"\n          >\n            {part}\n          </a>\n        );\n      }\n      return part;\n    });\n  };\n\n  /**\n   * Character-Aware Receipt Summary ‚Äî Snaps to the nearest full stop or punctuation\n   */\n  const summarizeForReceipt = (text: string | null, maxChars = 600) => {\n    if (!text) return \"\";\n\n    // Strip stars before summarizing to avoid cutting in the middle of bolding\n    const clean = text.replace(/\\*\\*/g, \"\");\n    if (clean.length <= maxChars) return clean;\n\n    const truncated = clean.slice(0, maxChars);\n    const lastPunctuation = Math.max(\n      truncated.lastIndexOf(\".\"),\n      truncated.lastIndexOf(\"!\"),\n      truncated.lastIndexOf(\"?\")\n    );\n\n    if (lastPunctuation === -1) {\n      return truncated.trim() + \"...\";\n    }\n\n    return truncated.slice(0, lastPunctuation + 1).trim();\n  };\n\n  // CHAT VIEW\n  if (view === 'chat') {\n    return (\n      <div className=\"h-screen w-full relative flex flex-col items-center justify-center overflow-hidden bg-[#2b1d1a]\">\n        <video\n          ref={videoRef}\n          key=\"chat-video\"\n          className=\"absolute inset-0 w-full h-full object-cover\"\n          autoPlay\n          loop\n          muted\n          playsInline\n          preload=\"auto\"\n          controls={false}\n          onTimeUpdate={(e) => {\n            const video = e.currentTarget;\n            if (video.currentTime >= 4) {\n              video.currentTime = 0;\n            }\n          }}\n        >\n          <source src=\"/barista-chat.mp4\" type=\"video/mp4\" />\n        </video>\n\n        {/* CHAT INTERFACE */}\n        <div className=\"relative z-20 w-full max-w-4xl px-4 md:px-10 flex flex-col h-full py-20 pointer-events-none\">\n          <div className=\"flex-1 flex flex-col gap-6 justify-end pb-12\">\n            {/* USER BUBBLE */}\n            <div className=\"bubble-user ml-auto pointer-events-auto shadow-2xl\">\n              {lastQuestion}\n            </div>\n\n            {/* BARISTA BUBBLE */}\n            {lastResponse && (\n              <div className=\"bubble-barista mr-auto pointer-events-auto shadow-2xl\">\n                {renderContentWithLinks(lastResponse)}\n              </div>\n            )}\n          </div>\n\n          {/* FOLLOW UP INPUT */}\n          <div className=\"mt-auto pointer-events-auto pb-10\">\n            <QuestionInput onSubmit={handleQuestionSubmit} isLoading={isLoading} />\n          </div>\n        </div>\n\n        {/* BACK BUTTON */}\n        <button\n          onClick={handleBackToShop}\n          className=\"fixed top-6 right-6 z-50 bg-[#4a322d] text-[#fffcf0] px-8 py-3 rounded-full font-bold shadow-2xl hover:scale-105 active:scale-95 transition-all text-xl border-2 border-white/20\"\n        >\n          ‚Üê Order something else\n        </button>\n      </div>\n    );\n  }\n\n  // ABOUT ME VIEW\n  if (view === 'about') {\n    return (\n      <div className=\"h-screen w-full relative flex flex-col items-center justify-center overflow-hidden bg-[#2b1d1a]\">\n        <video\n          ref={videoRef}\n          key=\"about-video\"\n          className=\"absolute inset-0 w-full h-full object-cover\"\n          autoPlay\n          loop\n          muted\n          playsInline\n          preload=\"auto\"\n          controls={false}\n          onTimeUpdate={(e) => {\n            const video = e.currentTarget;\n            if (video.currentTime >= 4) {\n              video.currentTime = 0;\n            }\n          }}\n        >\n          <source src=\"/about-me.mp4\" type=\"video/mp4\" />\n        </video>\n\n        {/* CHAT INTERFACE - STAGGERED BUBBLES */}\n        <div className=\"relative z-20 w-full max-w-4xl px-4 md:px-10 flex flex-col h-full py-20 pointer-events-none\">\n          <div className=\"flex-1 flex flex-col gap-6 justify-end pb-12\">\n            {showIntroBubble1 && (\n              <div className=\"bubble-barista mr-auto pointer-events-auto shadow-2xl max-w-[85%]\">\n                Latte me introduce my brew. I am Mukuka Nkamba and this is my portfolio cafe! ‚òï‚ú®\n              </div>\n            )}\n\n            {showIntroBubble2 && (\n              <div className=\"bubble-barista mr-auto pointer-events-auto shadow-2xl max-w-[85%]\">\n                Feel free to reach out for anything that benefits me!\n              </div>\n            )}\n\n            {showIntroBubble3 && (\n              <div className=\"bubble-barista mr-auto pointer-events-auto shadow-2xl max-w-[85%]\">\n                You can pick something from the menu or ask me anything by clicking the \"Order something else\" button. What can I brew for you?\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* BACK BUTTON */}\n        <button\n          onClick={handleBackToShop}\n          className=\"fixed top-6 right-6 z-50 bg-[#4a322d] text-[#fffcf0] px-8 py-3 rounded-full font-bold shadow-2xl hover:scale-105 active:scale-95 transition-all text-xl border-2 border-white/20\"\n        >\n          ‚Üê Order something else\n        </button>\n      </div>\n    );\n  }\n\n  // COFFEE/RECEIPT VIEW\n  return (\n    <div className=\"h-screen w-full relative flex flex-col md:items-center md:justify-center overflow-y-auto overflow-x-hidden md:overflow-hidden scrollbar-hide bg-[#2b1d1a]\">\n      {/* VIDEO BACKGROUND */}\n      <video\n        ref={videoRef}\n        key=\"coffee-video\"\n        className=\"absolute inset-0 w-full h-full object-cover opacity-60 md:opacity-100\"\n        autoPlay\n        loop\n        muted\n        playsInline\n        preload=\"auto\"\n        controls={false}\n      >\n        <source src=\"/coffee-cup.mp4\" type=\"video/mp4\" />\n      </video>\n\n      {/* THE RECEIPT */}\n      <div className=\"relative md:absolute md:left-16 md:top-[10%] z-30 w-[90%] max-w-[480px] mt-24 md:mt-0 mx-auto md:mx-0 p-8 md:p-12 receipt text-[#3e2723] scale-100 md:scale-115 shadow-2xl\">\n        <div className=\"border-b border-dashed border-[#3e2723]/30 pb-4 md:pb-6 mb-4 md:mb-6 text-center\">\n          <p className=\"font-bold tracking-widest text-base md:text-lg uppercase text-[#3e2723]\">Coffee Receipt</p>\n          <p className=\"text-xs md:text-sm opacity-60 mt-1\">{new Date().toLocaleTimeString()} - Order #88</p>\n        </div>\n        <p\n          className=\"text-xl md:text-2xl leading-relaxed italic font-medium overflow-hidden text-[#3e2723]\"\n          style={{\n            maxHeight: \"550px\",\n            display: \"-webkit-box\",\n            WebkitLineClamp: 16,\n            WebkitBoxOrient: \"vertical\"\n          }}\n        >\n          {renderContentWithLinks(summarizeForReceipt(currentResponse))}\n        </p>\n        <div className=\"mt-8 md:mt-12 pt-6 border-t border-dashed border-[#3e2723]/30 text-center\">\n          <p className=\"text-sm md:text-base opacity-50 uppercase tracking-tighter\">Thank You for Visiting! ‚òï</p>\n        </div>\n      </div>\n\n      {/* BACK BUTTON */}\n      <button\n        onClick={handleBackToShop}\n        className=\"fixed md:absolute top-6 md:top-10 left-6 md:left-auto md:right-10 z-50 bg-[#4a322d] text-[#fffcf0] \n                   px-8 md:px-14 py-4 md:py-6 rounded-full text-xl md:text-2xl font-bold shadow-2xl hover:scale-105 transition-all active:scale-95 border-2 border-white/20\"\n      >\n        <span>‚Üê Order something else</span>\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}