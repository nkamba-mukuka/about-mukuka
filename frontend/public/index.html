<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- Preload critical videos FIRST for instant playback -->
    <link rel="preload" href="%PUBLIC_URL%/barista.mp4" as="video" type="video/mp4" />
    <link rel="preload" href="%PUBLIC_URL%/barista-chat.mp4" as="video" type="video/mp4" />
    <link rel="preload" href="%PUBLIC_URL%/coffee-cup.mp4" as="video" type="video/mp4" />
    <link rel="preload" href="%PUBLIC_URL%/about-me.mp4" as="video" type="video/mp4" />
    
    <!-- Preconnect to Firebase for faster API calls -->
    <link rel="preconnect" href="https://us-central1-latte-ai-portfolio.cloudfunctions.net" />
    <link rel="dns-prefetch" href="https://us-central1-latte-ai-portfolio.cloudfunctions.net" />
    
    <title>Latte AI Portfolio ☕✨ - Mukuka Nkamba</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&family=Architects+Daughter&family=Playfair+Display:wght@700&family=Montserrat:wght@300;400;600&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    
    <!-- Hidden video preloaders - start loading immediately before React -->
    <video style="display: none;" preload="auto" muted playsinline id="preload-barista">
      <source src="%PUBLIC_URL%/barista.mp4" type="video/mp4" />
    </video>
    <video style="display: none;" preload="auto" muted playsinline id="preload-chat">
      <source src="%PUBLIC_URL%/barista-chat.mp4" type="video/mp4" />
    </video>
    <video style="display: none;" preload="auto" muted playsinline id="preload-coffee">
      <source src="%PUBLIC_URL%/coffee-cup.mp4" type="video/mp4" />
    </video>
    <video style="display: none;" preload="auto" muted playsinline id="preload-about">
      <source src="%PUBLIC_URL%/about-me.mp4" type="video/mp4" />
    </video>
    
    <script>
      // Start loading all videos immediately, before React loads
      (function() {
        const videos = ['preload-barista', 'preload-chat', 'preload-coffee', 'preload-about'];
        videos.forEach(id => {
          const video = document.getElementById(id);
          if (video) {
            video.load();
            // Store readiness in sessionStorage for React to check
            video.addEventListener('canplaythrough', () => {
              sessionStorage.setItem(`video-ready-${id}`, 'true');
            }, { once: true });
          }
        });
      })();
    </script>
  </body>
</html>
